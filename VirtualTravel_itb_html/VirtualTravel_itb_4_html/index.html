<!DOCTYPE html>
<html>

<!--  PROJECT SETTINGS        PROJECT SETTINGS        PROJECT SETTINGS        PROJECT SETTINGS        -->
	<script>
		var customer = 'VirtualTravel';  // customer name
		var project = 'P_01';	//  project name
	</script>

	<head>
		<title>Virtual-Travel-ITB remote</title>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta http-equiv="x-ua-compatible" content="IE=edge" />
		<link rel="apple-touch-icon" href="/static/zeilenControl/icon.png">
		
		<style>
				body {
					background: white;
					font-family:      TradeGothic, sans-serif;
					font-size: 30px;		
				}
					
				.size{
				font-family:      TradeGothic, sans-serif;
				font-size: 30px;		
				}
				
			@-ms-viewport { width:device-width; }
			@media only screen and (min-device-width:800px) { html { overflow:hidden; } }
			html { height:100%; }
			body { height:100%; overflow:hidden; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#FFFFFF; background-color:#000000; }
			
			</style>
	</head>

		
	<body>

		<script src="/static/krpano/tour.js"></script>
		<script src="/static/js/jquery-1.11.1.js"></script>
		<script src="/static/js/socket.io.js"></script>
		<script src="/static/js/slider.js"></script> 	

		<div id="pano" style="width:100%;height:100%;">

		<noscript><table style="width:100%;height:100%;"><tr style="vertical-align:middle;"><td><div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div></td></tr></table></noscript>
				
			<script>				
				embedpano({swf:"/static/krpano/tour.swf", xml:"/static/VirtualTravel_itb/tour4.xml", target:"pano", html5:"auto", mobilescale:1.0, passQueryParameters:true});					
			</script>

		</div>

		
		
<script>
	
	$(function () {
		var socket = io();

	// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	
			var hlookat = 0;
				setInterval(function() {
				var krpano = document.getElementById("krpanoSWFObject");
				var current_hlookat = krpano.get('view.hlookat');
				
				if (current_hlookat - hlookat > 1 || current_hlookat - hlookat < -1 ) {
				//if (current_hlookat != hlookat) {
					hlookat = current_hlookat;

					//socket.emit('hlookat', krpano.get('view.hlookat'));						
					var hlook_sent = krpano.get('view.hlookat');							
					//socket.emit('hlookat', hlook_sent);	
					socket.emit('stuur', 'hlookat', hlook_sent, customer , project);		// deze werkt!!!!!!!!!!!						
				}
			}, 100); 
  
	
			
			var vlookat = 0;
			setInterval(function() {
				var krpano = document.getElementById("krpanoSWFObject");
				var current_vlookat = krpano.get('view.vlookat') ;
				
				if (current_vlookat - vlookat > 1 || current_vlookat - vlookat < -1 ) {
				//if (current_vlookat != vlookat) {
					vlookat = current_vlookat;
					
					//socket.emit('vlookat', krpano.get('view.vlookat'));	
					
					var vlook_sent = krpano.get('view.vlookat');	
					
					//socket.emit('vlookat', vlook_sent);	// deze zo weer aanzettten		

					socket.emit('stuur', 'vlookat', vlook_sent, customer , project);		// deze werkt!!!!!!!!!!!						
					
				}
			}, 100); 				

	
			
		socket.on('message', function(msg, vid, scale,d){  

							console.log (msg);
							console.log(vid);
							console.log(scale);
							console.log(d);
							
		// RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        					
		// RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL 
		// RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL        // RECEIVE X EN Y POSITIE VAN VR BRIL 


						if ((scale == customer) && (d == project )){
		
	/*						<!-- hlookat-->
							if (msg == 'hlookat'){			
								var krpano = document.getElementById("krpanoSWFObject");
								<!--krpano.set("view.hlookat", vid);  uitgezet om hem met onderstaande regel smoother te maken-->
								krpano.call("ga_naar_y()");	// nieuw probeersel!!!! stuur een variable naar krpano.
								krpano.set("vid_y",vid);							
								//console.log("Horizontal lookat via socket: " + krpano.get("view.hlookat"));	
							}				

														
							<!-- vlookat-->
							if (msg == 'vlookat'){			
								var krpano = document.getElementById("krpanoSWFObject");
								<!-- krpano.set("view.vlookat", vid);  uitgezet om hem met onderstaande regel smoother te maken-->
								krpano.call("ga_naar_x()");	// nieuw probeersel!!!! stuur een variable naar krpano.
								krpano.set("vid_x",vid);								
								//console.log("vertical lookat via socket: " + krpano.get("view.vlookat"));	
							}				
		*/			

// 9 FEBR ONDERSTAANDE UITGEZET. DE ALERT ONLINE 2.0 (VGZ) GAME STUURT DE WAARDE X EN Y EN DAAR REAGEERDE KRPANO B&B OOK OP.
// DOEL IS X,Y GEBRUIKEN VOOR ALERT ONLINE 2.0 EN DE HLOOKAT EN VLOOKAT VOOR B&B SITE.	
							
							<!--y-->
/*							if (msg == 'y'){			
								var krpano = document.getElementById("krpanoSWFObject");
								//krpano.set("view.hlookat", vid);  //dit werkt. tijdelijk uitgezet om onderstaand te testen
								krpano.call("ga_naar_y()");	// nieuw probeersel!!!! stuur een variable naar krpano.
								krpano.set("vid_y",vid);
								//console.log("Horizontal lookat: " + krpano.get("view.hlookat"));	
							}				

							<!--x-->
							if (msg == 'x'){			
								var krpano = document.getElementById("krpanoSWFObject");
								//krpano.set("view.vlookat", vid);  //dit werkt. tijdelijk uitgezet om onderstaand te testen
								krpano.call("ga_naar_x()"); // nieuw probeersel!!!!	stuur een variable naar krpano.		
								krpano.set("vid_x",vid);
								//krpano.set("view.vlookat", 200);
							}	
*/							

					
		//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	
		//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO							
		//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	
							
							if (msg == 'laad_foto0'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto0()" );		
							}								
					
							if (msg == 'laad_foto1'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto1()" );		
							}	
							if (msg == 'laad_foto1_1'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto1_1()" );		
							}	

							
							
							if (msg == 'laad_foto2'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto2()" );		
							}	

							if (msg == 'laad_foto3'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto3()" );		
							}	

							if (msg == 'laad_foto4'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto4()" );		
							}	

							if (msg == 'laad_foto5'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto5()" );		
							}	

							if (msg == 'laad_foto6'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto6()" );		
							}	

							if (msg == 'laad_foto7'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto7()" );		
							}							

							if (msg == 'laad_foto8'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto8()" );		
							}	

							if (msg == 'laad_foto9'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto9()" );		
							}	

							if (msg == 'laad_foto10'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto10()" );		
							}	
							if (msg == 'laad_foto11'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto11()" );		
							}	

							if (msg == 'laad_foto12'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto12()" );		
							}	

							if (msg == 'laad_foto13'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto13()" );		
							}	

							if (msg == 'laad_foto14'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto14()" );		
							}	

							if (msg == 'laad_foto15'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto15()" );		
							}	

							if (msg == 'laad_foto16'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto16()" );		
							}	

							if (msg == 'laad_foto17'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto17()" );		
							}	

							// nieuwe socket   							
							
							if (msg == 'startfilm'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "start_deze_video()" );	
							}								
					
						}  // einde customer / project
				
					});  //einde on-message  ///////////////////////////////////////////////////////////////////


// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////
// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////
// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////


			window.laad_foto0 = function(){
				console.log ('laad_foto0'); 
				socket.emit('stuur', 'laad_foto0','',customer,project);	
			}
			window.laad_foto1 = function(){
				console.log ('laad_foto1'); 
				socket.emit('stuur', 'laad_foto1','',customer,project);	
			}
			window.laad_foto1_1 = function(){
				console.log ('laad_foto1_1'); 
				socket.emit('stuur', 'laad_foto1_1','',customer,project);	
			}			
			
			
			
			
			window.laad_foto2 = function(){
				console.log ('laad_foto2'); 
				socket.emit('stuur', 'laad_foto2','',customer,project);	
			}
			window.laad_foto3 = function(){
				console.log ('laad_foto3'); 
				socket.emit('stuur', 'laad_foto3','',customer,project);	
			}
			window.laad_foto4 = function(){
				console.log ('laad_foto4'); 
				socket.emit('stuur', 'laad_foto4','',customer,project);	
			}
			window.laad_foto5 = function(){
				console.log ('laad_foto5'); 
				socket.emit('stuur', 'laad_foto5','',customer,project);	
			}
			window.laad_foto6 = function(){
				console.log ('laad_foto6'); 
				socket.emit('stuur', 'laad_foto6','',customer,project);	
			}
			window.laad_foto7 = function(){
				console.log ('laad_foto7'); 
				socket.emit('stuur', 'laad_foto7','',customer,project);	
			}
			window.laad_foto8 = function(){
				console.log ('laad_foto8'); 
				socket.emit('stuur', 'laad_foto8','',customer,project);	
			}
			window.laad_foto9 = function(){
				console.log ('laad_foto9'); 
				socket.emit('stuur', 'laad_foto9','',customer,project);	
			}
			window.laad_foto10 = function(){
				console.log ('laad_foto10'); 
				socket.emit('stuur', 'laad_foto10','',customer,project);	
			}
			window.laad_foto11 = function(){
				console.log ('laad_foto11'); 
				socket.emit('stuur', 'laad_foto11','',customer,project);	
			}
			window.laad_foto12 = function(){
				console.log ('laad_foto12'); 
				socket.emit('stuur', 'laad_foto12','',customer,project);	
			}
			window.laad_foto13 = function(){
				console.log ('laad_foto13'); 
				socket.emit('stuur', 'laad_foto13','',customer,project);	
			}
			window.laad_foto14 = function(){
				console.log ('laad_foto14'); 
				socket.emit('stuur', 'laad_foto14','',customer,project);	
			}
			window.laad_foto15 = function(){
				console.log ('laad_foto15'); 
				socket.emit('stuur', 'laad_foto15','',customer,project);	
			}
			window.laad_foto16 = function(){
				console.log ('laad_foto16'); 
				socket.emit('stuur', 'laad_foto16','',customer,project);	
			}
			window.laad_foto17 = function(){
				console.log ('laad_foto17'); 
				socket.emit('stuur', 'laad_foto17','',customer,project);	
			}
			
		}); // einde function
		</script>
		

	</body>
</html>
