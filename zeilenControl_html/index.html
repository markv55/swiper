<!-- 20juli2018: nieuw rond regel 270 de alpha en beta als socket ingelezen en dan krpano een call geven zodat hij de positie van de 360 veranderd  
 tevens rond regel 819 opgenomen dat hij <iframe src="/swiper3" style="width: 0px; height: 0px;" border="0"></iframe> start.
 hiermee geeft hij zijn alpha/beta/gamma waarde van de mobiel door
 
 20 juli: dit project weeer in de oude staat gebracht. een neiuwe map AR_html gemaakt waar echt AR wordt gemaakt. 
-->

<!DOCTYPE html>
<html>
	<head>
	
		<title>Switcher</title>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta http-equiv="x-ua-compatible" content="IE=edge" />
		
		<style>
				body {
					background: white;
					font-family:      TradeGothic, sans-serif;
					font-size: 30px;		
				}
					
				.size{
				font-family:      TradeGothic, sans-serif;
				font-size: 30px;		
				}
				
			@-ms-viewport { width:device-width; }
			@media only screen and (min-device-width:800px) { html { overflow:hidden; } }
			html { height:100%; }
			body { height:100%; overflow:hidden; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#FFFFFF; background-color:#000000; }


			.btn {
				padding: 5px 5px;
				background: blue;
				color: #fff;
				text-decoration: none;
				border-radius: 10px;
				font-family: Arial;

				font-size: 15px;

				margin:  5px;
				}

			.btn_red {
				padding: 5px 5px;
				background: red;
				color: #fff;
				text-decoration: none;
				border-radius: 10px;
				font-family: Arial;

				font-size: 15px;

				margin:  5px;
				}
				
				
				
				

			</style>
	</head>
	
	
	<body>
		<!-- <a href="/"   >home</a>-->	
		

		
<!-- LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////      -->		
<!-- LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////      -->		
<!-- LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////     LASER POINTER   //////      -->		

		<!-- onderstaand is de code dat hij alpha en beta doorgeeft en er een laser pointer van gemaakt wordt in unity
		<iframe src="/static/swiper3" style="width: 0px; height: 0px;" border="0"></iframe>
		-->
		
		
		
		<script src="/static/krpano/tour.js"></script>
		 
		<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
		
		<script src="/static/js/slider.js"></script> 	
	
		<div id="pano" style="width:100%;height:100%;">
		
			<div id="myDIV">
					<button id="scene0" type="button" class="btn_red btn-info">start</button>						
					<button id="scene1" type="button" class="btn_red btn-info">1Fetiye</button>			
					<button id="scene2" type="button" class="btn_red btn-info">2Tomb Bay</button>
					<button id="scene3" type="button" class="btn_red btn-info">3Kapi Creep</button>			
					<button id="scene4" type="button" class="btn btn-info">Wandeling</button>	
					<button id="scene5" type="button" class="btn btn-info">Uitzicht</button>			
					<button id="scene6" type="button" class="btn btn-info">Moskee</button>					
					<button id="scene7" type="button" class="btn btn-info">Lepels</button>			
					<button id="scene8" type="button" class="btn btn-info">Briefing</button>	
					<button id="scene9" type="button" class="btn btn-info">Zeilen1</button>			
					<button id="scene10" type="button" class="btn btn-info">Zeilen2</button>
					<button id="scene11" type="button" class="btn btn-info">Zwemmen</button>			
					<button id="scene12" type="button" class="btn_red btn-info">4Gocek</button>	
					<button id="scene13" type="button" class="btn_red btn-info">5 Karacaoren</button>			
					<button id="scene14" type="button" class="btn btn-info">Borrel</button>					
					<button id="scene15" type="button" class="btn btn-info">Feest1</button>			
					<button id="scene16" type="button" class="btn btn-info">Feest2</button>	
					<button id="scene17" type="button" class="btn_red btn-info">6Fathom Cove</button>	

					<!--<a href="/home" class="js-ajx-url-home btn"  >home</a> -->
			</div>

			<button onclick="myFunction()">hide button</button>
					
			<noscript><table style="width:100%;height:100%;"><tr style="vertical-align:middle;"><td><div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div></td></tr></table></noscript>
				
			<script>
				embedpano({swf:"/static/krpano/tour.swf", xml:"/static/zeilenControl/tour.xml", target:"pano", html5:"auto", mobilescale:1.0, passQueryParameters:true});
			</script>
		</div>


		
		<!-- 
		<button id="audio-1" type="button" class="btn btn-info size">geluid</button>	
		<audio class="audios" id="yes-audio" controls preload="none"> 
		<source src="static/audio/sonar.wav" type="audio/wav"> 
		</audio>
		
		<a href="/home" class="js-ajx-url-home btn">ad_product</a> 
		<button class="btn btn-default" onclick="vibrateSimple()">Vibrate for 200 ms</button>
		<button class="btn btn-default" onclick="vibratePattern()">Vibrate with pattern</button>
		<div><img id="mainFoto2" src="static/images2/155.jpg" alt="" width="800" height="800" /></div>  -->

		

		<script>
		
		function myFunction() {
    var x = document.getElementById("myDIV");
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
}
		
		
		
		

			

	/////////////////////////////////////////////////
	
			jQuery(document).ready(function($){ 
			
			
			
			$('#scene0').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto0()" );	
				laad_foto0();
			});			
				
			
			$('#scene1').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto1()" );	
				laad_foto1();
				changeCollorBack();
				$(this).css('background-color', 'green');
			});
			
			$('#scene2').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto2()" );	
				laad_foto2();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});
			
			$('#scene3').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto3()" );	
				laad_foto3();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene4').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto4()" );
				laad_foto4();				
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene5').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto5()" );	
				laad_foto5();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene6').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto6()" );	
				laad_foto6();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene7').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto7()" );	
				laad_foto7();
				changeCollorBack();
				$(this).css('background-color', 'green');
			});
			
			$('#scene8').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto8()" );	
				laad_foto8();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});
			
			$('#scene9').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto9()" );	
				laad_foto9();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene10').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto10()" );	
				laad_foto10();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene11').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto11()" );	
				laad_foto11();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene12').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto12()" );	
				laad_foto12();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});			

			$('#scene13').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto13()" );	
				laad_foto13();
				changeCollorBack();
				$(this).css('background-color', 'green');
			});
			
			$('#scene14').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto14()" );	
				laad_foto14();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});
			
			$('#scene15').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto15()" );	
				laad_foto15();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene16').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto16()" );	
				laad_foto16();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});

			$('#scene17').click(function() {   
				var krpano = document.getElementById("krpanoSWFObject");
				krpano.call( "laad_foto17()" );	
				laad_foto17();
				changeCollorBack();
				$(this).css('background-color', 'green');
			
			});



			});  // einde jquery druk knoppen

			
			function changeCollorBack(){
			document.getElementById("scene1").style.background='red';
			document.getElementById("scene2").style.background='red';
			document.getElementById("scene3").style.background='red';
			document.getElementById("scene4").style.background='blue';
			document.getElementById("scene5").style.background='blue';
			document.getElementById("scene6").style.background='blue';
			document.getElementById("scene7").style.background='blue';
			document.getElementById("scene8").style.background='blue';
			document.getElementById("scene9").style.background='blue';
			document.getElementById("scene10").style.background='blue';
			document.getElementById("scene11").style.background='blue';
			document.getElementById("scene12").style.background='red';			
			document.getElementById("scene13").style.background='red';
			document.getElementById("scene14").style.background='blue';
			document.getElementById("scene15").style.background='blue';
			document.getElementById("scene16").style.background='blue';
			document.getElementById("scene17").style.background='red';
			}
	

		</script>

		
		
		<script>
	
		$(function () {
				var socket = io();

// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// LEES HLOOKAT EN SEND SOCKET TO BACKEND  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/*  let op. onderstaand is een werkende functie en stuur de hlook en vlook door zodat alle andere panos luisteren en meedraaien. maar er moet nog een functie in dat je de pano
als master inzet. nu knippert hij omdat hij steeds een stukje terug gaat. 

soort onderstaande functie inbouwen!!!!!!!!!!!!
een nieuwe variable. die variable wordt op basis van een ontvangen socket ingevuld
de socket is dat de html luistert naar hlook en vlook sockets of dat deze de sockets verstuurd
default is 1. de html is de ontvanger van de sockets
maar is de socket 2, dan is de html zender van de sockets!!
onderstaande function moet helemaal onderaan de code

var sound_nr = 1;

// scenes ontvangen	
	window.send_scene1 = function(){
		sound_nr = 1;	
		console.log ('scene = 1'); 
	}

	window.send_scene2 = function(){
		sound_nr = 2;		
		console.log ('scene = 2'); 
	}

				var hlookat;
				setInterval(function() {
					var krpano = document.getElementById("krpanoSWFObject");
					var current_hlookat = krpano.get('view.hlookat');
					
					//if (current_hlookat - hlookat > 1 || current_hlookat - hlookat < 1 ) {
					if (current_hlookat != hlookat) {
						hlookat = current_hlookat;
						socket.emit('hlookat', krpano.get('view.hlookat'));	
					}
				}, 100); 
				
				
				var vlookat;
				setInterval(function() {
					var krpano = document.getElementById("krpanoSWFObject");
					var current_vlookat = krpano.get('view.vlookat');
					
					//if (current_vlookat - hlookat > 1 || current_vlookat - hlookat < 1 ) {
					if (current_vlookat != vlookat) {
						vlookat = current_vlookat;
						socket.emit('vlookat', krpano.get('view.vlookat'));	
					}
				}, 100); 				
			
*/			




			
/// ONTVANGEN SOCKET VAN BACKEND   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// ONTVANGEN SOCKET VAN BACKEND   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// ONTVANGEN SOCKET VAN BACKEND   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
					socket.on('message', function(msg, vid, scale){  

							console.log (msg);
							console.log(vid);
							console.log(scale);
							
							
							<!-- hlookat-->
							if (msg == 'hlookat'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.hlookat", vid);
								//console.log("Horizontal lookat via socket: " + krpano.get("view.hlookat"));	
							}				

														
							<!-- vlookat-->
							if (msg == 'vlookat'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.vlookat", vid);
								//console.log("vertical lookat via socket: " + krpano.get("view.vlookat"));	
							}				


							
							<!--alpha   let op was -vid-->
							if (msg == 'y'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.hlookat", vid);
								//console.log("Horizontal lookat: " + krpano.get("view.hlookat"));	
							}				

							<!--beta  -->
							if (msg == 'x'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.vlookat", vid);
								//krpano.set("view.vlookat", 200);
							}	
							
////////////////////  20 juli nieuw   /// alpha en gamma socket inlezen vanuit rotator3.js.  ////////////////////////////////////////////////
// nu krijg je nog socket via rotator3. maar deze moet straks zonder sockets en internet direct een interne call krijgen vanuit rotator3
//  mark scherrenburg kan hiermee helpen			

//	15 augustus voor de krpano contoll deze weer aangezet!!!!!
//  we ontvangen de alfa en beta maar hij draait de verkeerde kant op
// hij moet op de x en y gaan meedraaien en de AR moet er nog uit.
// een nieuwe krpano_follow_html maken!!
						
							if (msg == 'alpha'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.hlookat", - vid);
							}									

							if (msg == 'gamma'){			
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.set("view.vlookat", - vid);
							}								

					
//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	
//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO							
//  RECEIVE SOCKETS WITHIN KRPANO    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	    // RECEIVE SOCKETS WITHIN KRPANO	
							
							if (msg == 'laad_foto0'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto0()" );		
							}								
					
							if (msg == 'laad_foto1'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto1()" );		
							}								
							
							if (msg == 'laad_foto2'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto2()" );		
							}	

							if (msg == 'laad_foto3'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto3()" );		
							}	

							if (msg == 'laad_foto4'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto4()" );		
							}	

							if (msg == 'laad_foto5'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto5()" );		
							}	

							if (msg == 'laad_foto6'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto6()" );		
							}	

							if (msg == 'laad_foto7'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto7()" );		
							}							

							if (msg == 'laad_foto8'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto8()" );		
							}	

							if (msg == 'laad_foto9'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto9()" );		
							}	

							if (msg == 'laad_foto10'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto10()" );		
							}	
							if (msg == 'laad_foto11'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto11()" );		
							}	

							if (msg == 'laad_foto12'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto12()" );		
							}	

							if (msg == 'laad_foto13'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto13()" );		
							}	

							if (msg == 'laad_foto14'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto14()" );		
							}	

							if (msg == 'laad_foto15'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto15()" );		
							}	

							if (msg == 'laad_foto16'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto16()" );		
							}	

							if (msg == 'laad_foto17'){	
								var krpano = document.getElementById("krpanoSWFObject");
								krpano.call( "laad_foto17()" );		
							}	
				
					});  //einde on-message  ///////////////////////////////////////////////////////////////////

	



// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////
// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////
// EEN INTERNE CALL VAN KRPANO, SEND SOCKET TO BACKEND  ///////////////////////////////////////////////////////////////////////////////////////////////////////


			window.laad_foto0 = function(){
				console.log ('laad_foto0'); 
				socket.emit('stuur', 'laad_foto0','b','c', 'd');	
			}
			window.laad_foto1 = function(){
				console.log ('laad_foto1'); 
				socket.emit('stuur', 'laad_foto1','b','c', 'd');	
			}
			window.laad_foto2 = function(){
				console.log ('laad_foto2'); 
				socket.emit('stuur', 'laad_foto2','b','c', 'd');	
			}
			window.laad_foto3 = function(){
				console.log ('laad_foto3'); 
				socket.emit('stuur', 'laad_foto3','b','c', 'd');	
			}
			window.laad_foto4 = function(){
				console.log ('laad_foto4'); 
				socket.emit('stuur', 'laad_foto4','b','c', 'd');	
			}
			window.laad_foto5 = function(){
				console.log ('laad_foto5'); 
				socket.emit('stuur', 'laad_foto5','b','c', 'd');	
			}
			window.laad_foto6 = function(){
				console.log ('laad_foto6'); 
				socket.emit('stuur', 'laad_foto6','b','c', 'd');	
			}
			window.laad_foto7 = function(){
				console.log ('laad_foto7'); 
				socket.emit('stuur', 'laad_foto7','b','c', 'd');	
			}
			window.laad_foto8 = function(){
				console.log ('laad_foto8'); 
				socket.emit('stuur', 'laad_foto8','b','c', 'd');	
			}
			window.laad_foto9 = function(){
				console.log ('laad_foto9'); 
				socket.emit('stuur', 'laad_foto9','b','c', 'd');	
			}
			window.laad_foto10 = function(){
				console.log ('laad_foto10'); 
				socket.emit('stuur', 'laad_foto10','b','c', 'd');	
			}
			window.laad_foto11 = function(){
				console.log ('laad_foto11'); 
				socket.emit('stuur', 'laad_foto11','b','c', 'd');	
			}
			window.laad_foto12 = function(){
				console.log ('laad_foto12'); 
				socket.emit('stuur', 'laad_foto12','b','c', 'd');	
			}
			window.laad_foto13 = function(){
				console.log ('laad_foto13'); 
				socket.emit('stuur', 'laad_foto13','b','c', 'd');	
			}
			window.laad_foto14 = function(){
				console.log ('laad_foto14'); 
				socket.emit('stuur', 'laad_foto14','b','c', 'd');	
			}
			window.laad_foto15 = function(){
				console.log ('laad_foto15'); 
				socket.emit('stuur', 'laad_foto15','b','c', 'd');	
			}
			window.laad_foto16 = function(){
				console.log ('laad_foto16'); 
				socket.emit('stuur', 'laad_foto16','b','c', 'd');	
			}
			window.laad_foto17 = function(){
				console.log ('laad_foto17'); 
				socket.emit('stuur', 'laad_foto17','b','c', 'd');	
			}
						
	
				
		}); // einde function
		</script>
		
		
		
		<script>
		  $(function () {
			var socket = io();
			$('.js-ajx-url-home').on('click', function(e) {
				e.preventDefault();
				$.ajax({
					url: $(this).attr('href')
				}).done(function() {
				window.location = '/';
				console.log('Ajax request successfull');
				});
			});
		  });
		</script>		

		
		
<!-- let op onderstaande nieuw om in de krpano ook de alpha, beta en gamma waarde uit te lezen-->
<!-- let op onderstaande nieuw om in de krpano ook de alpha, beta en gamma waarde uit te lezen-->
<!-- let op onderstaande nieuw om in de krpano ook de alpha, beta en gamma waarde uit te lezen-->

		<!--   20 juli weer uitgezet  <iframe src="/swiper3" style="width: 0px; height: 0px;" border="0"></iframe>  -->

      <!--   <script src="/static/js/rotator3.js"></script>  --> 
		
	</body>
</html>
