 <krpano version="1.19" title="Virtual Tour" onstart=" action(maat_bepalen); wait(blend); action(intro); set(firstTime,true);  
set (firstMove,false) ; set(last_view_hlookat,0); set (eenmalig,false) ; " > 


<include url="plugins/modal_window.xml" keep="true"/>

	<skin_settings maps="false"
	               maps_type="google"
	               maps_bing_api_key=""
	               maps_google_api_key=""
	               maps_zoombuttons="false"
	               gyro="true"
	               webvr="true"
	               webvr_gyro_keeplookingdirection="false"
	               webvr_prev_next_hotspots="true"
	               littleplanetintro="false"
	               title="true"
	               thumbs="true"
	               thumbs_width="120" thumbs_height="80" thumbs_padding="10" thumbs_crop="0|40|240|160"
	               thumbs_opened="false"
	               thumbs_text="false"
	               thumbs_dragging="true"
	               thumbs_onhoverscrolling="false"
	               thumbs_scrollbuttons="false"
	               thumbs_scrollindicator="false"
	               thumbs_loop="false"
	               tooltips_buttons="false"
	               tooltips_thumbs="false"
	               tooltips_hotspots="false"
	               tooltips_mapspots="false"
	               deeplinking="false"
	               loadscene_flags="MERGE"
	               loadscene_blend="OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)"
	               loadscene_blend_prev="SLIDEBLEND(0.5, 180, 0.75, linear)"
	               loadscene_blend_next="SLIDEBLEND(0.5,   0, 0.75, linear)"
	               loadingtext=" "
	               layout_width="100%"
	               layout_maxwidth="814"
	               controlbar_width="-24"
	               controlbar_height="40"
	               controlbar_offset="20"
	               controlbar_offset_closed="-40"
	               controlbar_overlap.no-fractionalscaling="10"
	               controlbar_overlap.fractionalscaling="0"
	               design_skin_images="vtourskin.png"
	               design_bgcolor="0x2D3E50"
	               design_bgalpha="0.8"
	               design_bgborder="0"
	               design_bgroundedge="1"
	               design_bgshadow="0 4 10 0x000000 0.3"
	               design_thumbborder_bgborder="3 0xFFFFFF 1.0"
	               design_thumbborder_padding="2"
	               design_thumbborder_bgroundedge="0"
	               design_text_css="color:#FFFFFF; font-family:Arial;"
	               design_text_shadow="1"
	               />


<!-- DIVERSE ACTIES       ///         DIVERSE ACTIES           //////        DIVERSE ACTIES       ///         DIVERSE ACTIES           //////       DIVERSE ACTIES    -->
<!-- DIVERSE ACTIES       ///         DIVERSE ACTIES           //////        DIVERSE ACTIES       ///         DIVERSE ACTIES           //////       DIVERSE ACTIES    -->
<!-- DIVERSE ACTIES       ///         DIVERSE ACTIES           //////        DIVERSE ACTIES       ///         DIVERSE ACTIES           //////       DIVERSE ACTIES    -->


<!-- startup action - load the first scene -->
<action name="startup" autorun="onstart">
		if(startscene === null OR !scene[get(startscene)], copy(startscene,scene[0].name); );
		loadscene(get(startscene), null, MERGE);
		if(startactions !== null, startactions() );
</action>

<!--    nieuwe code -->

<!-- nieuw het inlezen van x en y en langzaam ernaar toe bewegen  -->
		<action name="ga_naar_y">
		 <!-- set(view.hlookat, get(vid)); deze werkt maar erg stoterig!!! -->
		 tween(view.hlookat, get(vid_y),1 );
		<!-- let op hij start op 0. dus de variable nog vullen!!!!!!!! -->
		</action>

		
		<action name="ga_naar_x">
		 <!-- set(view.vlookat, get(vid)); --> <!--deze functie werkte maar erg stoterig  -->
		 tween(view.vlookat, get(vid_x), 1);
		 <!-- let op hij start op 0. dus de variable nog vullen!!!!!!!! -->

		</action>		



		

		<action name="laad_standaard_view">
		set(view.hlookat, 3600);
		set(view.fov,140);
		</action>



		

		<action name="laad_foto0">
		loadscene(scene_0, null, MERGE, BLEND(1));
		laad_standaard_view();
		</action>


		<action name="laad_foto1">
		mapspot_loadscene(scene_100);
		laad_standaard_view();
		

		
		</action>

		<action name="laad_foto2">
		mapspot_loadscene(scene_200);
		laad_standaard_view();
		</action>


		<action name="laad_foto3">
		mapspot_loadscene(scene_300);
		laad_standaard_view();
		</action>

		<action name="laad_foto4">
		mapspot_loadscene(scene_400);
		laad_standaard_view();
		</action>


		<action name="laad_foto5">
		mapspot_loadscene(scene_500);
		laad_standaard_view();
		</action>

		<action name="laad_foto6">
		mapspot_loadscene(scene_600);
		laad_standaard_view();
		</action>
	
	
		<action name="laad_foto7">
		mapspot_loadscene(scene_700);
		laad_standaard_view();
		</action>

		<action name="laad_foto8">
		mapspot_loadscene(scene_800);
		laad_standaard_view();
		</action>


		<action name="laad_foto9">
		mapspot_loadscene(scene_900);
		laad_standaard_view();
		</action>

		<action name="laad_foto10">
		mapspot_loadscene(scene_1000);
		laad_standaard_view();
		</action>




<events onloadcomplete='load_actions();'/> "


<action name="load_actions">
	set(sceneLoaded, true);

</action>



<!-- remove skin onderdelen!  de video start en replay buttons-->
<action name="rnskin">  
  set(events[skin_events].name, null);
  for(set(i,0), i LT layer.count, inc(i), 
	copy(layername, layer[get(i)].name);
	subtxt(namestart, get(layername), 0, 5);
	if(namestart == 'skin_', removelayer(get(layername)); dec(i); );
  );
</action>


	
<!-- LET OP ONDERSTAAND IS MIJN LOGO LINKS ONDERIN. WERKT GOED!!!!!!!-->
<layer name="terug" url="graphics/logo1.png" onclick=" info (); set(layer[magic_content_info].visible,true); set(autorotate.enabled,false); set(layer[mapicon].visible,false); 
set(layer[terug].visible,false); set (hotspot[iframe2].visible,false); set (hotspot[iframe3].visible,false);" 
keep="true" visible="false" zorder="2" handcursor="false" capture="false"  align="leftbottom" x="30" y="-10"  />
<!--uit bovenstaand gehaald. scale="0.7"  scale.mobile="0.2" -->

<!-- RESERVE CODE   let op een van onderstaande knoppen uitcommanteren!!!!!!!!!!  -->
<!-- <layer name="terug" url="graphics/terug.png" onclick="openurl('http://www.kwvlangweer.nl',_self);" keep="true" visible="false" zorder="2" handcursor="false" capture="false"  align="leftbottom" scale="1.5"  scale.mobile="0.6" />--> 
<!-- <layer name="terug" url="graphics/logo.png" onclick="openurl('http://www.360mediamasters.com',_self);" keep="true" visible="false" zorder="2" handcursor="false" capture="false"  align="lefttop" scale="1"  scale.mobile="0.4" /> -->
<!-- <layer name="terug" url="graphics/logo.png" onclick="openurl('360mediamasters/index.html',_self);" keep="true" visible="false" zorder="2" handcursor="false" capture="false"  align="lefttop" scale="1"  scale.mobile="0.4" /> -->
		

		


		
		
<!--     PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               -->
<!--     PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               -->
<!--     PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               PLATTEGROND               -->	


<!-- DE PLATTEGROND MET DE ICONS!!!! -->
<layer name="map" url="graphics/floor.jpg" url2="graphics/floor.jpg" keep="true" handcursor="false" capture="false" align="righttop" scale="0" scale.mobile="0" scalechildren="true" />

<!--  DE KNOP 'SPOTS' RECHTSOVEN OP DE 360 PANO FOTO. SOMS IS NAAM SPOTS OF BAAIEN. BIJ KLIKKEN OPEN JE DE PLATTEGROND-->
<layer name="mapicon" url="graphics/knopSpots.png" onclick="openmap() ; openmap-bij-opstart(); set(control.usercontrol,all); set(control.touchzoom,true);set(autorotate.enabled,false);set(layer[activespot].visible,true); 
 stop_video();  hide_vtourskin(); rnskin(); " 
keep="true" visible="true" zorder="2" handcursor="false" capture="false"  align="righttop"  />

<!-- deze regel uit bovenstaand gehaald. tijdelijk scale uitgezet en vervangen door onderstaande functie  scale="1.5"  scale.mobile="0.5" -->

<action name="maat_bepalen">
set (layer[mapicon].width, calc(stagewidth*0.2)); 		set (layer[mapicon].height, calc(stagewidth*0.2) );
set (layer[terug].width, calc(stagewidth*0.2)); 		set (layer[terug].height, calc(stagewidth*0.2) );
</action>








<!--  ICONEN OP DE PLATTEGROND INCL DE GEKOZEN ICON MET WITTE KADER -->
<style name="mapspot" keep="true" url="graphics/foto_icon_aan.png" parent="map" align="lefttop" edge="center" scale= "0.3"  scale.mobile="0.4"/>

<style name="mapspot2" keep="true" url="graphics/video_icon_aan.png" parent="map" align="lefttop" edge="center" scale= "0.3"  scale.mobile="0.4"/>



<layer name="spot1" style="mapspot2" x="1180" y="715" zorder="1" onclick=" send_scene1();  mapspot_loadscene(scene_100) ;  "/>  <!--  film 5 park-->
<layer name="spot6" style="mapspot2" x="940" y="1100" zorder="1" onclick=" send_scene6(); 	mapspot_loadscene(scene_600);  "/> <!--  helicopter-->

<layer name="spot2" style="mapspot" x="240" y="570" zorder="1" onclick="send_scene2(); mapspot_loadscene(scene_200); set (layer[map200].visible,true);;   "/>
<layer name="spot3" style="mapspot" x="360" y="700" zorder="1" onclick="send_scene3(); mapspot_loadscene(scene_300); set (layer[map300].visible,true); ; "/> 


<layer name="spot5" style="mapspot2" x="480" y="210" zorder="1" onclick="send_scene5();  mapspot_loadscene(scene_500);    "/>  <!-- elementen  -->
<layer name="spot4" style="mapspot2" x="260" y="730" zorder="1" onclick="send_scene4();  mapspot_loadscene(scene_400) ;   "/>  <!-- PARAGLIDING  -->








<!--
<layer name="spot7" style="mapspot" x="1180" y="930" zorder="1" onclick="send_scene6(); mapspot_loadscene(scene_700);set (layer[map600].visible,true); "/>
-->

<!--  VR ICON IN PLATTEGROND. DEZE OPENT EEN VR WEERGAVE. ONDERTAANDE OPENT WEL DE VR WEERGAVE MAAR ALLE POP UPS ZIJN NOG WEL IN HET MIDDEN -->
<!--
<style name="vr_style" keep="true" url="images/vr.png" parent="map" align="lefttop" edge="center" scale= "0.2"  scale.mobile="0.3"/>
<layer name="vr" style="vr_style" x="200" y="1200" zorder="1" onclick=" mapspot_loadscene(vr_scene_100); webvr.enterVR(); "/>
-->

<!-- onderin plattegrond stond een link naar mijn site. deze uitgezet en logo geggehaald
<layer name="spot12" style="mapspot" url="graphics/logo.png"  x="220" y="1200" scale= "1.2"  scale.mobile="1.2" zorder="1" onclick="openurl('http://www.360mediamasters.com',_self);"/>
-->

<!-- 2E KEER OP EEN REEDS GESELECTEERDE ICON KLIKKEN (ICON MET WIT KADER) IN DE PLATTEGROND -->
<layer name="activespot" 
	  url="graphics/gekozen_spot.png" 
	  keep="true" visible="false" align="righttop"  zorder="2" scale= "0.3" 
	  onclick="
	  closemap();
	  set(layer[volgende].visible,false); 
	  send_continue_sound(); 
	  plugin[video].play(); "  
	  scale.mobile="0.4"      
/>     

	<action name="stop_video">
		plugin[video].pause();
	</action>


<!--  ACTION OPENMAP // LAAT LAYER MAP ZIEN (DUS PLATTEGROND MET ICONS)   -->
<action name="openmap">

	if (sceneLoaded EQ true, 
		<!-- set(layer[map].onclick, closemap(); );  -->  <!-- let op uitgezet om te voorkomen dat je ergens op de plattegtrond klikt en de plattegrond sluit -->	
		set(layer[mapicon].visible,false); 
		set(layer[terug].visible,false);  
		set(autorotate.enabled,false)  ;	
		set(layer[activespot].visible,true)	;                                                                                                                                                                                                                                                                  
		set(layer[volgende].visible,false);	
		set(layer[vorige].visible,false);		
		
		set(hotspot[iframe2].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	
		set(hotspot[iframe3].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	
		
		layer[map].changeorigin(center,center);	
		set(bigscale,1);	
		if(stageheight GT stagewidth, 
			<!-- if(layer[map].imagewidth GT stagewidth, div(bigscale, stagewidth, layer[map].imagewidth); );  -->
			if(1358 GT stagewidth, div(bigscale, stagewidth, 1358); );  
			tween(layer[map].x, 0);	tween(layer[map].y, 0); 
			tween(layer[map].scale, get(bigscale));
		);
		if(stagewidth GT stageheight, 
			<!-- if(layer[map].imageheight GT stageheight, div(bigscale, stageheight, layer[map].imageheight); ); -->
			if(1358 GT stageheight, div(bigscale, stageheight, 1358); );
			tween(layer[map].x, 0);	tween(layer[map].y, 0);
			tween(layer[map].scale, get(bigscale));
		);
);
</action>

<!--  ACTION OPENMAP // LAAT LAYER MAP ZIEN (DUS PLATTEGROND MET ICONS)   -->
<action name="openmap-bij-opstart">

<!--	if (sceneLoaded EQ true, -->
	<!-- set(layer[map].onclick, closemap(); );  -->  <!-- let op uitgezet om te voorkomen dat je ergens op de plattegtrond klikt en de plattegrond sluit -->	
		set(layer[mapicon].visible,false); 
		set(layer[terug].visible,false);  
		set(autorotate.enabled,false)  ;	
		set(layer[activespot].visible,false)	;  
		set(layer[volgende].visible,false);	
		set(layer[vorige].visible,false);		
		
		set(hotspot[iframe2].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	
		set(hotspot[iframe3].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	
		
		layer[map].changeorigin(center,center);	 <!-- deze regel uitgezet omdat dit problemen gaf. de floor kwam in het midden maar daarna bij draaien landscape/portrait 
		had ik halve beelden. deze regel weg en probleem is deels opgelost -->
		set(bigscale,1);	
		
		if(stageheight GT stagewidth, 
			<!-- if(layer[map].imagewidth GT stagewidth, div(bigscale, stagewidth, layer[map].imagewidth); );  -->
			if(1358 GT stagewidth, div(bigscale, stagewidth, 1358); );  
			tween(layer[map].x, 0);	tween(layer[map].y, 0); 
			tween(layer[map].scale, get(bigscale));
		);
		if(stagewidth GT stageheight, 
			<!-- if(layer[map].imageheight GT stageheight, div(bigscale, stageheight, layer[map].imageheight); ); -->
			if(1358 GT stageheight, div(bigscale, stageheight, 1358); );
			tween(layer[map].x, 0);	tween(layer[map].y, 0);
			tween(layer[map].scale, get(bigscale));
		);
		
	<!--);-->
</action>



<!-- ACTION CLOSE MAP  // SLUIT DE MAP (PLATTEGROND MET ICONS)  -->
<action name="closemap">
	set(layer[activespot].visible,false);	
	set(layer[map].onclick, openmap(); );  

	layer[map].changeorigin(righttop,righttop);	
	tween(layer[map].x, 0);	
	tween(layer[map].y, 0);	
	tween(layer[map].scale, 0); 
	tween(layer[map].scale.mobile, 0);  
	set(layer[mapicon].visible,true);	
	set(layer[terug].visible,true);  
	
	set(hotspot[iframe2].visible,true);	<!-- de hotspot in iedere scene aanzetten. deze hotspot opent het iframe -->	
	set(hotspot[iframe3].visible,true);	<!-- de hotspot in iedere scene aanzetten. deze hotspot opent het iframe -->	


	<!-- onderstaand aangezet zodat je altijd bij sluiten van plattegrond de 'volgende' knop ziet! -->
	<!-- let op 11  mei uitgezet onderstaande knop -->
	set(layer[volgende].visible,false);
	<!--
	set(layer[volgende].visible,false);	
	set(layer[vorige].visible,false);		
	-->
</action>













<!--  LOAD SCENE AFTER PRESSING A ICON ON PLATTEGROND                -->
<action name="mapspot_loadscene">
	if(layer[map].scale GT 0.1, ; 
	
	set(layer[mapicon].visible,true); 
	set(layer[terug].visible,true);  
	
		
	<!-- OPLOSSING ONDERSTAAND MOET HIJ PER SCENE DOEN -->
	<!-- firstTime wordt bij opstarten op true gezet. met onderstaande if wordt na de eerste keer drukken op een spot de  kliktostart getoond, en spot-knop niet getoond. bij een tweede keer drukken op de  
	spot knop wordt de kliktostart niet meer getoond!, maar wordt autorotate op true gezet en de scene muziek afgespeeld       -->
	<!--
	if(firstTime EQ true , 	geef_aanwijzing(); ,  );
	set (firstTime,false);
	-->
	set(autorotate.enabled,false); 
	set(layer[mapicon].visible,false); 
	set(layer[terug].visible,false);  
	set(layer[volgende].visible,false);  	
	set(layer[vorige].visible,false);	
	
	set(hotspot[iframe2].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	
	set(hotspot[iframe3].visible,false);	<!-- de hotspot in iedere scene uitzetten. deze hotspot opent het iframe -->	

	<!-- special mode for zoomed map: hide big map, loadscene, show small map -->
	<!-- onderstaande regel uitcommanteren zorgt dat je een camera kan selecteren en dat hij niet direct naar de scene springt!  -->
	set(layer[map].enabled, false);	
	tween(layer[map].alpha, 0.0, 0.25, default,	loadscene(%1, null, MERGE, BLEND(1));	
	set(layer[map].onclick, openmap(); );	
	layer[map].changeorigin(righttop,righttop);	
	set(layer[map].x, 0);	
	set(layer[map].y, 0);	
	set(layer[map].scale, 0);	
	set(events[sceneload].onloadcomplete,  	delayedcall(1,	tween(layer[map].alpha, 1.0, 0.3, default, set(layer[map].enabled, true); ););););	,loadscene(%1, null, MERGE, BLEND(1)); 
	set(activeScene, %1);
		  closemap();
);
</action>
	

<action name="intro">
	
	
<!-- SCALEN OP BASIS VAN STAGEWIDTH EN STAGEHEIGHT -->	
	
set(globalScale, 0.2);

<!-- landscape  -->
if( stagewidth GT  stageheight, 
	
	if (stagewidth GT 100, 
	set(globalScale, 0.1);
	);
	if (stagewidth GT 300, 
		set(globalScale, 0.2);
	);
	if (stagewidth GT 500, 
		set(globalScale, 0.4);
	);
	if (stagewidth GT 1200, 
		set(globalScale, 0.6);
	);
);
	
<!-- portait  -->	
if(stageheight GT stagewidth, 

	if (stagewidth GT 100, 
		set(globalScale, 0.1);
	);
	if (stagewidth GT 300, 
		set(globalScale, 0.2);
	);
	if (stagewidth GT 500, 
		set(globalScale, 0.4);
	);
	if (stagewidth GT 1200, 
		set(globalScale, 0.6);
	);
);
	
</action>		
	
	
	
	
	
	
<!-- ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       ////      ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE    /////    ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       	-->
<!-- ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       ////      ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE    /////    ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       	-->
<!-- ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       ////      ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE    /////    ALGEMENE FUNCTIES NA OPSTARTEN VAN 1E SCENE       	-->
	
<!-- HIDE ALL BUTTONS ON START TILL SOME MOVEMENT IS DETECTED            -->


<events onviewchange="test();"/>



<action name="test"> 
	if(firstMove EQ true, 
		copy(last_view_hlookat, view.hlookat); 
		copy(last_view_vlookat, view.vlookat); 
		set (firstMove, false); 
		set (eenmalig,true);
	); 
	
	if (eenmalig EQ true,
		if (calc( last_view_hlookat - view.hlookat) GT 5, set(layer[mapicon].visible,true); set (eenmalig,false)); 
		if (calc( last_view_hlookat - view.hlookat) LT -5, set(layer[mapicon].visible,true); set (eenmalig,false)); 	
		<!-- set (eenmalig,false);-->  <!-- als je deze weghaalt gaat het niet goed -->
	);
 </action>


<!-- GEEF AANWIJZING  // GEEF AANWIJZING           -->
<action name = "geef_aanwijzing">

</action>

<layer name="aanwijzing" url="inzets/aanwijzing.png"  visible= "false" keep="true" handcursor="false" capture="false" align="center" scale="0"  scale.mobile = "0" scalechildren="true" 
onclick="set (layer[aanwijzing].visible,false);   set(layer[mapicon].visible,true); set(layer[terug].visible,true); 
set(hotspot[iframe2].visible,true);set(hotspot[iframe3].visible,true);" />		



<!-- BIJ EEN EVENT (DRAAIEN VAN SCHERM) VAN WORDT OPNIEUW DE HOOGTE/BREEDTE VAN DE BUBBLE STORIES CONTENT BEPAALD-->
<events name="orientation" keep="true" onresize="BerekenHoogteBreedte2();"  />

<action name="BerekenHoogteBreedte2">
if(stagewidth LT stageheight  <!-- breedte kleiner dan hoogte =  portrait-->
,  
<!-- PORTRAIT -->
if(device.tablet, set (layer[magic_content_info].width, calc(stagewidth*0.8)); 		set (layer[magic_content_info].height, calc(stagewidth*0.8) ););
if(device.mobile, set (layer[magic_content_info].width, calc(stagewidth*0.9)); 		set (layer[magic_content_info].height, calc(stagewidth*0.9) ););	
if(device.desktop, set (layer[magic_content_info].width, calc(stagewidth*0.5)); 	set (layer[magic_content_info].height, calc(stagewidth*0.5) ););	
,
<!-- LANDSCAPE -->
if(device.tablet,  set (layer[magic_content_info].height, calc(stageheight*0.8)); 	set (layer[magic_content_info].width, calc(stageheight*0.8) ););
if(device.mobile,  set (layer[magic_content_info].height, calc(stageheight*0.9)); 	set (layer[magic_content_info].width, calc(stageheight*0.9) );); 	
if(device.desktop, set (layer[magic_content_info].height, calc(stageheight*0.5)); 	set (layer[magic_content_info].width, calc(stageheight*0.5) ););	
);
</action>

<!-- CALL DIE ERGENS IN DE CODE WORDT AANGEROEPEN -->
<action name = "info">  
BerekenHoogteBreedte2();
</action>


<!--  DE POP UP MET ALGEMENE INFO VAN BUBBLE STORIES EN LINK NAAR MN WEBSITE -->
<layer name="magic_content_info" url="images/info4.png"  visible= "false" keep="true" handcursor="false" capture="false" align="center"  scalechildren="true" />		
<layer name="close_button" style="close_btn_style" x="5" y="5" zorder="1" onclick="set (layer[magic_content_info].visible,false);  set(layer[mapicon].visible,true); set(layer[terug].visible,true);
			 set (hotspot[iframe2].visible,true); set (hotspot[iframe3].visible,true); "/>
<layer name="knop_naar_website" style="go_to_site" x="0" y="100" zorder="1" onclick="openurl('http://www.360mediamasters.com/virtual-travel',_self);"/>

<style name="close_btn_style" keep="true" url="graphics/close.png" parent="magic_content_info" align="righttop" edge="center" scale= "0.6" scale.mobile = "1"  />
<style name="go_to_site" keep="true" url="graphics/ga_naar_website2.png" parent="magic_content_info" align="centerbottom" edge="center" scale= "2" scale.mobile = "2"  />


<!-- AUTOROTATE -->
<autorotate enabled="true" waittime="1.0" speed="10.0"  accel="30.0"    horizon="20.0"     tofov="90.0"    interruptionevents="userviewchange|layers|keyboard" />  		
 
	
	
<!-- SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML -->	
<!-- SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML -->	
<!-- SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML     ////        SEND JAVASCTRIPT TO INDEX.HTML -->	
	
<action name="	send_continue_sound " type="Javascript">
		 <!--window.send_continue_sound();-->
</action>	


<action name="send_scene0" type="Javascript">
		 <!--window.send_scene0();-->
</action>	
	
<action name="send_scene1" type="Javascript">
		 <!--window.send_scene1();-->
		 window.laad_foto1();
</action>	

<action name="send_scene2" type="Javascript">
		 <!-- window.send_scene2(); -->
		 window.laad_foto2();
		 
</action>	

<action name="send_scene3" type="Javascript">
		 <!-- window.send_scene3();-->
		 window.laad_foto3();
</action>	

<action name="send_scene4" type="Javascript">
		 <!--window.send_scene4();-->
		 window.laad_foto4();
</action>	

<action name="send_scene5" type="Javascript">
		 <!--window.send_scene5();-->
		 window.laad_foto5();
</action>	

<action name="send_scene6" type="Javascript">
		 <!--window.send_scene6();-->
		 window.laad_foto6();
</action>	



<action name="play_scene_music" type="Javascript">
	<!--	 window.play_scene_music();-->
</action>	


	<!-- STARTSCENE  STARTSCENE        -->		


<scene name="scene_0" title="0" onstart=" updateradar0()" havevrimage="true" thumburl="panos/200.tiles/thumb.jpg" lat="" lng="" heading="">	
	
<action name="updateradar0">
	set(layer[activespot].parent, spot0);	
	openmap-bij-opstart(); 
	set(layer[terug].visible,false);  
</action>	
	
	
		<view hlookat="226.485" vlookat="16.452" fovtype="MFOV" fov="126.700" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/200.tiles/preview.jpg" />

		<image type="CUBE" multires="true" tilesize="512" if="!webvr.isenabled">
			<level tiledimagewidth="2560" tiledimageheight="2560">
				<cube url="panos/200.tiles/%s/l3/%v/l3_%s_%v_%h.jpg" />
			</level>
			<level tiledimagewidth="1280" tiledimageheight="1280">
				<cube url="panos/200.tiles/%s/l2/%v/l2_%s_%v_%h.jpg" />
			</level>
			<level tiledimagewidth="640" tiledimageheight="640">
				<cube url="panos/200.tiles/%s/l1/%v/l1_%s_%v_%h.jpg" />
			</level>
		</image>

		<image if="webvr.isenabled">
			<cube url="panos/200.tiles/vr/pano_%s.jpg" />
		</image>

		<!-- place your scene hotspots here -->

		
		

		
</scene>
	

<!-- SCENE 200      SCENE200      SCENE 200      SCENE 200       SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200          -->		
<!-- SCENE 200      SCENE200      SCENE 200      SCENE 200       SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200          -->	
<!-- SCENE 200      SCENE200      SCENE 200      SCENE 200       SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200    SCENE 200      SCENE200      SCENE 200          -->	

<scene name="scene_200" title="200" onstart=" updateradar200()" havevrimage="true" thumburl="panos/200.tiles/thumb.jpg" lat="" lng="" heading="">	
	
<action name="updateradar200">
	set(layer[activespot].parent, spot2);	
	set(layer[map200].width, calc(stagewidth*0.4));
	set(layer[map200].height, calc(stagewidth*0.4) ); 
	set(layer[map200].visible,false); 
	set(layer[mapicon].visible,true);	
</action>	
	
	
		<view hlookat="226.485" vlookat="16.452" fovtype="MFOV" fov="126.700" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/200.tiles/preview.jpg" />

		<image type="CUBE" multires="true" tilesize="512" if="!webvr.isenabled">
			<level tiledimagewidth="2560" tiledimageheight="2560">
				<cube url="panos/200.tiles/%s/l3/%v/l3_%s_%v_%h.jpg" />
			</level>
			<level tiledimagewidth="1280" tiledimageheight="1280">
				<cube url="panos/200.tiles/%s/l2/%v/l2_%s_%v_%h.jpg" />
			</level>
			<level tiledimagewidth="640" tiledimageheight="640">
				<cube url="panos/200.tiles/%s/l1/%v/l1_%s_%v_%h.jpg" />
			</level>
		</image>

		<image if="webvr.isenabled">
			<cube url="panos/200.tiles/vr/pano_%s.jpg" />
		</image>

		<!-- place your scene hotspots here -->

		
		
<layer name="map200" url="inzets/200.png"  keep="true" handcursor="false" capture="false" align="center"  scalechildren="true" 
		onclick="set (layer[map200].visible,false); set (layer[map200].visible,false);play_scene_music();   set(layer[mapicon].visible,true); 
		set(hotspot[iframe2].visible,true);			set(hotspot[iframe3].visible,true);		set(layer[terug].visible,true); ; closemap(); "
/>	


		<action name="start_deze_video">
			set(layer[map200].visible,false); 
			set(layer[mapicon].visible,true);
			
		</action>
		
</scene>





<!-- SCENE 300      SCENE300      SCENE 300      SCENE 300        SCENE 300       SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300     -->
<!-- SCENE 300      SCENE300      SCENE 300      SCENE 300        SCENE 300       SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300     -->
<!-- SCENE 300      SCENE300      SCENE 300      SCENE 300        SCENE 300       SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300SCENE 300      SCENE300      SCENE 300     -->

	
<scene name="scene_300" title="300" onstart="updateradar300()" havevrimage="true" thumburl="panos/300.tiles/thumb.jpg" lat="" lng="" heading="">
	
<action name="updateradar300">
	set(layer[activespot].parent, spot3);	
	set(layer[map300].width, calc(stagewidth*0.4));
	set(layer[map300].height, calc(stagewidth*0.4) ); 	
	set(layer[map300].visible,false); 
	set(layer[mapicon].visible,true);	
</action>	
	
	
		<view hlookat="-4.514" vlookat="0.911" fovtype="MFOV" fov="97.348" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/300.tiles/preview.jpg" />

		<image type="CUBE" multires="true" tilesize="512" if="!webvr.isenabled">
			<level tiledimagewidth="1280" tiledimageheight="1280">
				<cube url="panos/300.tiles/%s/l2/%v/l2_%s_%v_%h.jpg" />
			</level>
			<level tiledimagewidth="640" tiledimageheight="640">
				<cube url="panos/300.tiles/%s/l1/%v/l1_%s_%v_%h.jpg" />
			</level>
		</image>

		<image if="webvr.isenabled">
			<cube url="panos/300.tiles/vr/pano_%s.jpg" />
		</image>

<!-- place your scene hotspots here -->
<layer name="map300" url="inzets/300.png"  keep="true" handcursor="false" capture="false" align="center"  scalechildren="true" 
		onclick="set (layer[map300].visible,false); set (layer[map300].visible,false); play_scene_music();   set(layer[mapicon].visible,true); 
		set(hotspot[iframe2].visible,true);			set(hotspot[iframe3].visible,true);		set(layer[terug].visible,true); closemap();  " 
/>	

		<action name="start_deze_video">
			set(layer[map300].visible,false); 
			set(layer[mapicon].visible,true);
			
		</action>




		
</scene>



<!-- 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 -->
<!-- 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 -->
<!-- 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 -->
<!-- 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 360 VIDEO			 -->



<!-- NATIONAL PARK CHITWAN    -->
<scene name="scene_100" title="Virtual-Travel Video"  onstart=" start()" >   


<action name="start">
	set(layer[mapicon].visible,false); 
	set(layer[terug].visible,false);  
</action>	   

		<!-- grid preview pano -->
		<preview type="grid(cube,64,64,512,0xCCCCCC,0xF6F6F6,0x999999);" />

		<!-- view/fov settings -->
		<view hlookat="0" vlookat="0" fovtype="VFOV" fov="90" fovmin="30" fovmax="150" />
		
		<include url="skin/videointerface.xml" />  
 
		<!-- include the videoplayer plugin -->
		<plugin name="video"
		        url.html5="%SWFPATH%/plugins/videoplayer.js"
		        url.flash="%SWFPATH%/plugins/videoplayer.swf"
		        pausedonstart="true"
		        loop="true"
				volume="1.0"
				
				onloaded="add_video_sources(); maat_bepalen2(); set(layer[activespot].parent, spot1); hide_vtourskin(); rnskin();set(layer[start_knop_video_700].visible,true); set(layer[mapicon].visible,false); "
					
		/>

		<!-- use the videoplayer plugin as panoramic image source -->
		<image>
			<sphere url="plugin:video" />
		</image>

		<!-- set the default view -->
		<view hlookat="0" vlookat="0" fovtype="DFOV" fov="130" fovmin="75" fovmax="150" distortion="0.0" />

		<!-- add the video sources and play the video -->
		<action name="add_video_sources">
			videointerface_addsource('start', '%CURRENTXML%/film5.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/video-1920x960-poster.jpg');	
			videointerface_addsource('4096x2048', '%CURRENTXML%/film5.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/video-1024x512-poster.jpg');
		
			if(device.ios,
				<!-- iOS Safari has a very slow 'video-to-webgl-texture' transfer, therefore use a low-res video by default -->
				videointerface_play('start');
			  ,
				 videointerface_play('4096x2048');
			  );			  
			  
		</action>
		
		<action name="maat_bepalen2">
			set (layer[start_knop_video_700].width, calc(stagewidth*0.4)); 		
			set (layer[start_knop_video_700].height, calc(stagewidth*0.4) );
			
			set(layer[mapicon].visible,false); 
			set(autorotate.enabled,false); "  
			
		</action>

		<layer name="start_knop_video_700" url="graphics/start_video_700.png" onclick="start_deze_video(); set(layer[start_knop_video_700].visible,false); set(layer[mapicon].visible,true); 	  closemap(); " 
		keep="true" visible="true" zorder="2" handcursor="true" capture="false"  align="center"  />


		<action name="start_deze_video">
			plugin[video].play();
			set(layer[start_knop_video_700].visible,false); 
			set(layer[mapicon].visible,true);
			
		</action>

</scene>



<!-- PARAGLIDEN     -->
<scene name="scene_400" title="Virtual-Travel Video">

		<!-- grid preview pano -->
		<preview type="grid(cube,64,64,512,0xCCCCCC,0xF6F6F6,0x999999);" />

		<!-- view/fov settings -->
		<view hlookat="0" vlookat="0" fovtype="VFOV" fov="90" fovmin="30" fovmax="150" />
		
		<include url="skin/videointerface.xml" />  
 
		<!-- include the videoplayer plugin -->
		<plugin name="video"
		        url.html5="%SWFPATH%/plugins/videoplayer.js"
		        url.flash="%SWFPATH%/plugins/videoplayer.swf"
		        pausedonstart="true"
		        loop="true"
				volume="1.0"
				
				onloaded="add_video_sources(); maat_bepalen2(); set(layer[activespot].parent, spot4); hide_vtourskin(); rnskin();set(layer[start_knop_video_900].visible,true); set(layer[mapicon].visible,false);   "
					
		/>

		<!-- use the videoplayer plugin as panoramic image source -->
		<image>
			<sphere url="plugin:video" />
		</image>

		<!-- set the default view -->
		<view hlookat="0" vlookat="0" fovtype="DFOV" fov="130" fovmin="75" fovmax="150" distortion="0.0" />

		<!-- add the video sources and play the video -->
		<action name="add_video_sources">
			videointerface_addsource('start', '%CURRENTXML%/film_paragliden.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/900video-1920x960-poster.jpg');	
			videointerface_addsource('4096x2048', '%CURRENTXML%/film_paragliden.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/900video-1920x960-poster.jpg');
		
			if(device.ios,
				<!-- iOS Safari has a very slow 'video-to-webgl-texture' transfer, therefore use a low-res video by default -->
				videointerface_play('start');
			  ,
				 videointerface_play('4096x2048');
			  );			  
			  
		</action>
		
		<action name="maat_bepalen2">
			set (layer[start_knop_video_900].width, calc(stagewidth*0.4)); 		
			set (layer[start_knop_video_900].height, calc(stagewidth*0.4) );
			set(layer[mapicon].visible,true); 
			set(autorotate.enabled,false); "  
			
		</action>

		<layer name="start_knop_video_900" url="graphics/start_video_900.png" onclick="start_deze_video(); set(layer[start_knop_video_900].visible,false);  set(layer[mapicon].visible,true); 	  closemap();" 
		keep="true" visible="true" zorder="2" handcursor="true" capture="false"  align="center"  />



		<action name="start_deze_video">
			plugin[video].play();
			set(layer[start_knop_video_900].visible,false); 
			set(layer[mapicon].visible,true);

		</action>

</scene>



<!-- HELICOPTER VLUCHT MOUNT EVEREST    -->
<scene name="scene_600" title="Virtual-Travel Video">

		<!-- grid preview pano -->
		<preview type="grid(cube,64,64,512,0xCCCCCC,0xF6F6F6,0x999999);" />

		<!-- view/fov settings -->
		<view hlookat="0" vlookat="0" fovtype="VFOV" fov="90" fovmin="30" fovmax="150" />
		
		<include url="skin/videointerface.xml" />  
 
		<!-- include the videoplayer plugin -->
		<plugin name="video"
		        url.html5="%SWFPATH%/plugins/videoplayer.js"
		        url.flash="%SWFPATH%/plugins/videoplayer.swf"
		        pausedonstart="true"
		        loop="true"
				volume="1.0"
				
				onloaded="add_video_sources(); maat_bepalen2(); set(layer[activespot].parent, spot6); hide_vtourskin(); rnskin();set(layer[start_knop_video_800].visible,true); set(layer[mapicon].visible,false);   "
					
		/>

		<!-- use the videoplayer plugin as panoramic image source -->
		<image>
			<sphere url="plugin:video" />
		</image>

		<!-- set the default view -->
		<view hlookat="0" vlookat="0" fovtype="DFOV" fov="130" fovmin="75" fovmax="150" distortion="0.0" />

		<!-- add the video sources and play the video -->

		
		
		
		<action name="add_video_sources">
			videointerface_addsource('start', '%CURRENTXML%/film6.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/800video-1920x960-poster.jpg');	
			videointerface_addsource('4096x2048', '%CURRENTXML%/film6.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/800video-1920x960-poster.jpg');
		
			if(device.ios,
				<!-- iOS Safari has a very slow 'video-to-webgl-texture' transfer, therefore use a low-res video by default -->
				videointerface_play('start');
			  ,
				 videointerface_play('4096x2048');
			  );			  
			  
		</action>
		
		<action name="maat_bepalen2">
			set (layer[start_knop_video_800].width, calc(stagewidth*0.4)); 		
			set (layer[start_knop_video_800].height, calc(stagewidth*0.4) );
			set(layer[mapicon].visible,true); 
			set(autorotate.enabled,false); "  
			
		</action>

		<layer name="start_knop_video_800" url="graphics/start_video_800.png" onclick="start_deze_video(); set(layer[start_knop_video_800].visible,false); set(layer[mapicon].visible,true); 	  closemap(); " 
		keep="true" visible="true" zorder="2" handcursor="true" capture="false"  align="center"  />		
		
		<action name="start_deze_video">
			plugin[video].play();
			set(layer[start_knop_video_800].visible,false);
			set(layer[mapicon].visible,true);

			</action>

</scene>



<!-- ELEMENTEN TEMPEL/MONNIK   -->
<scene name="scene_500" title="Virtual-Travel Video">

		<!-- grid preview pano -->
		<preview type="grid(cube,64,64,512,0xCCCCCC,0xF6F6F6,0x999999);" />

		<!-- view/fov settings -->
		<view hlookat="0" vlookat="0" fovtype="VFOV" fov="90" fovmin="30" fovmax="150" />
		
		<include url="skin/videointerface.xml" />  
 
		<!-- include the videoplayer plugin -->
		<plugin name="video"
		        url.html5="%SWFPATH%/plugins/videoplayer.js"
		        url.flash="%SWFPATH%/plugins/videoplayer.swf"
		        pausedonstart="true"
		        loop="true"
				volume="1.0"
				
				onloaded="add_video_sources(); maat_bepalen2(); set(layer[activespot].parent, spot5); hide_vtourskin(); rnskin();set(layer[start_knop_video_1000].visible,true); set(layer[mapicon].visible,false);	 "
					
		/>

		<!-- use the videoplayer plugin as panoramic image source -->
		<image>
			<sphere url="plugin:video" />
		</image>

		<!-- set the default view -->
		<view hlookat="0" vlookat="0" fovtype="DFOV" fov="130" fovmin="75" fovmax="150" distortion="0.0" />

		<!-- add the video sources and play the video -->
		<action name="add_video_sources">
			videointerface_addsource('start', '%CURRENTXML%/film_elements.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/1000video-1920x960-poster.jpg');	
			videointerface_addsource('4096x2048', '%CURRENTXML%/film_elements.mp4|%CURRENTXML%/iphone-audio.m4a', '%CURRENTXML%/1000video-1920x960-poster.jpg');
		
			if(device.ios,
				<!-- iOS Safari has a very slow 'video-to-webgl-texture' transfer, therefore use a low-res video by default -->
				videointerface_play('start');
			  ,
				 videointerface_play('4096x2048');
			  );			  
			  
		</action>
		
		<action name="maat_bepalen2">
			set (layer[start_knop_video_1000].width, calc(stagewidth*0.4)); 		
			set (layer[start_knop_video_1000].height, calc(stagewidth*0.4) );
			set(layer[mapicon].visible,true); 
			set(autorotate.enabled,false); "  
			
		</action>

		<layer name="start_knop_video_1000" url="graphics/start_video_1000.png" onclick="start_deze_video(); set(layer[start_knop_video_1000].visible,false); set(layer[mapicon].visible,true);  " 
		keep="true" visible="true" zorder="2" handcursor="true" capture="false"  align="center"  />


		<action name="start_deze_video">
			plugin[video].play();
			set(layer[start_knop_video_1000].visible,false);
			set(layer[mapicon].visible,true);
		</action>

</scene>











</krpano>
